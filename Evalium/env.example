# ===========================================
# Evalium Environment Configuration
# ===========================================
# Copy this file to .env.local and fill in your values
# 
# For complete documentation, see ENVIRONMENT_VARIABLES.md
#
# Required variables are marked with [REQUIRED]
# Optional variables have defaults or can be omitted

# ===========================================
# DATABASE [REQUIRED]
# ===========================================
# PostgreSQL connection string
# For local development: postgresql://user:password@localhost:5432/evalium
# For Supabase: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
# For Vercel Postgres: Use connection string from Vercel dashboard
DATABASE_URL="postgresql://postgres:password@localhost:5432/evalium"

# Direct connection URL for Prisma migrations (optional but recommended)
# Use when DATABASE_URL uses connection pooling (e.g., Supabase, Vercel Postgres)
# For local development, can be same as DATABASE_URL
DIRECT_URL="postgresql://postgres:password@localhost:5432/evalium"

# ===========================================
# AUTHENTICATION (NextAuth.js) [REQUIRED]
# ===========================================
# Generate with: openssl rand -base64 32
# Must be the same across all deployments
AUTH_SECRET="your-auth-secret-here-generate-with-openssl"

# Auth URL - set to your production URL in production
# For local: http://localhost:3000
# For production: https://your-domain.vercel.app
AUTH_URL="http://localhost:3000"

# Google OAuth (optional - enables Google Sign-In)
# Get from: https://console.cloud.google.com/apis/credentials
AUTH_GOOGLE_ID=""
AUTH_GOOGLE_SECRET=""

# ===========================================
# STRIPE PAYMENTS [REQUIRED]
# ===========================================
# Get these from your Stripe Dashboard: https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_...) for local development and staging
# Use live keys (sk_live_...) for production
STRIPE_SECRET_KEY="sk_test_..."

# Webhook secret for verifying Stripe webhook signatures [REQUIRED for webhooks]
# Get from: Stripe Dashboard > Webhooks > Your endpoint > Signing secret
# Different secrets for staging and production webhook endpoints
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Price IDs for products (optional)
# If not set, app creates one-time prices dynamically
# Get from: Stripe Dashboard > Products > Your product > Pricing
STRIPE_PRICE_FULL_ANALYSIS="price_..."
STRIPE_PRICE_BENCHMARK_UNLIMITED="price_..."

# ===========================================
# APPLICATION [REQUIRED]
# ===========================================
# Base URL of the application
# Used for email links (verification, password reset) and redirects
# For local: http://localhost:3000
# For production: https://your-domain.vercel.app
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ===========================================
# FINANCIAL DATA PROVIDER (optional)
# ===========================================
# Provider to use: "mock" or "real" (real not implemented yet)
# Default: "mock"
FINANCIAL_DATA_PROVIDER="mock"

# Rate limiting for financial data API calls (requests per minute)
# Default: 60
FINANCIAL_DATA_RATE_LIMIT="60"

# ===========================================
# M&A THRESHOLDS (optional - all have defaults)
# ===========================================
# All M&A thresholds can be adjusted without code changes
# These are exposed to the client (NEXT_PUBLIC_*)

# Minimum revenue in EUR for M&A eligibility (default: 2000000 = €2M)
NEXT_PUBLIC_MA_REVENUE_THRESHOLD="2000000"

# Minimum EBITDA margin as decimal (e.g., 0.10 = 10%, default: 0.10)
NEXT_PUBLIC_MA_EBITDA_MARGIN_THRESHOLD="0.10"

# Minimum EBITDA in EUR (default: 200000 = €200K)
NEXT_PUBLIC_MA_EBITDA_THRESHOLD="200000"

# Minimum YoY revenue growth rate (default: 0.05 = 5%)
NEXT_PUBLIC_MA_GROWTH_THRESHOLD="0.05"

# Score threshold to show M&A banner, 0-100 (default: 60)
NEXT_PUBLIC_MA_SCORE_THRESHOLD="60"

# ===========================================
# PRICING (optional - all have defaults)
# ===========================================
# Pricing can be adjusted without code changes
# These are exposed to the client (NEXT_PUBLIC_*)

# Pro plan price in EUR (default: 49)
NEXT_PUBLIC_PRICING_PRO="49"

# Pro Plus plan price in EUR (default: 99)
NEXT_PUBLIC_PRICING_PRO_PLUS="99"

# ===========================================
# EMAIL VERIFICATION (optional)
# ===========================================
# When true, users must verify email before logging in
# When false (default), users can login without verification
# Recommended: Set to "true" in production
REQUIRE_EMAIL_VERIFICATION="false"

# Token expiration in milliseconds (default: 86400000 = 24 hours)
EMAIL_VERIFICATION_TOKEN_EXPIRY_MS="86400000"

# ===========================================
# EMAIL PROVIDER (optional - choose ONE)
# ===========================================
# If no email provider is configured, verification URLs will be logged to console
# This is useful for development but NOT recommended for production

# Option 1: Resend (recommended for production)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY="re_..."
EMAIL_FROM="Evalium <noreply@yourdomain.com>"

# Option 2: SendGrid (not yet implemented)
# SENDGRID_API_KEY="SG...."
# EMAIL_FROM="Evalium <noreply@yourdomain.com>"

# Option 3: SMTP (not yet implemented)
# EMAIL_SERVER_HOST="smtp.gmail.com"
# EMAIL_SERVER_PORT="587"
# EMAIL_SERVER_USER="your-email@gmail.com"
# EMAIL_SERVER_PASSWORD="your-app-password"
# EMAIL_FROM="Evalium <noreply@yourdomain.com>"

# ===========================================
# M&A LEAD NOTIFICATIONS (optional)
# ===========================================
# Email address to receive M&A lead notifications
# When a user submits an M&A interest form, an email will be sent to this address
# If not set, notifications will be logged to console (dev) or skipped (prod)
MNA_LEAD_NOTIFICATION_EMAIL="info.aivaluation@gmail.com"

# ===========================================
# NOTES
# ===========================================
# - NODE_ENV is automatically set by Next.js/Vercel (development/production)
# - Never commit .env.local to version control
# - For production deployment on Vercel, set all [REQUIRED] variables in Vercel dashboard
# - See ENVIRONMENT_VARIABLES.md for complete documentation
